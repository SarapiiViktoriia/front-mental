'use strict';
var ReadableStream = require('stream').Readable,
    inherits = require('util').inherits,
    Serializer = require('./index');
var SerializerStream = module.exports = function (node, options) {
    ReadableStream.call(this);
    this.serializer = new Serializer(node, options);
    Object.defineProperty(this.serializer, 'html', {
        get: function () {
            return '';
        },
        set: this.push.bind(this)
    });
};
inherits(SerializerStream, ReadableStream);
SerializerStream.prototype._read = function () {
    this.serializer.serialize();
    this.push(null);
};
